(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[589],{4781:function(e,r,t){Promise.resolve().then(t.bind(t,9548))},9376:function(e,r,t){"use strict";var a=t(5475);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})},9548:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return c}});var a=t(7437),s=t(2265),n=t(9376),l=t(6334),o=t(2827);function c(){let[e,r]=(0,s.useState)(""),[t,c]=(0,s.useState)(""),[i,d]=(0,s.useState)(""),[u,x]=(0,s.useState)(""),[g,m]=(0,s.useState)(""),[p,h]=(0,s.useState)(!1),[b,f]=(0,s.useState)(""),y=(0,n.useRouter)(),v=async r=>{r.preventDefault(),h(!0),f("");try{let r=await fetch("/api/admin/contents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,description:t,category:i,gdrive_folder_id:u,release_order:g})});if(!r.ok){let e=await r.json();throw Error(e.error||"등록 실패")}y.push("/admin/contents")}catch(e){f(e instanceof Error?e.message:"콘텐츠 등록에 실패했습니다")}finally{h(!1)}};return(0,a.jsxs)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"콘텐츠 업로드"}),(0,a.jsx)("p",{className:"text-gray-500",children:"새로운 영상 소스 콘텐츠를 등록합니다"})]}),(0,a.jsxs)("form",{onSubmit:v,className:"bg-white border border-gray-200 rounded-2xl p-8 space-y-6",children:[b&&(0,a.jsx)("div",{className:"bg-red-50 text-red-600 text-sm p-3 rounded-lg",children:b}),(0,a.jsx)(o.Z,{label:"콘텐츠 제목",placeholder:"예: 서울 야경 시네마틱 4K",value:e,onChange:e=>r(e.target.value),required:!0}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"설명"}),(0,a.jsx)("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",rows:4,placeholder:"콘텐츠에 대한 상세 설명을 입력하세요",value:t,onChange:e=>c(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(o.Z,{label:"카테고리",placeholder:"예: 도시, 자연, 음식",value:i,onChange:e=>d(e.target.value)}),(0,a.jsx)(o.Z,{label:"해금 순서",type:"number",placeholder:"1",value:g,onChange:e=>m(e.target.value),required:!0})]}),(0,a.jsx)(o.Z,{label:"Google Drive 폴더 ID",placeholder:"폴더 URL에서 ID를 복사하세요",value:u,onChange:e=>x(e.target.value),required:!0}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 text-sm text-blue-700",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"\uD83D\uDCA1 Google Drive 연동 안내"}),(0,a.jsx)("p",{children:"Google Drive에 폴더를 만들고 영상 파일을 업로드한 뒤, 폴더 ID를 입력하세요. 파일 목록은 자동으로 가져옵니다."})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)(l.Z,{type:"submit",loading:p,size:"lg",className:"flex-1",children:"콘텐츠 등록"}),(0,a.jsx)(l.Z,{type:"button",variant:"secondary",size:"lg",onClick:()=>y.back(),children:"취소"})]})]})]})}},6334:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var a=t(7437);function s(e){let{variant:r="primary",size:t="md",children:s,loading:n,className:l="",disabled:o,...c}=e;return(0,a.jsxs)("button",{className:"".concat("inline-flex items-center justify-center font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-orange-500 hover:bg-orange-600 text-white",secondary:"bg-gray-100 hover:bg-gray-200 text-gray-900",danger:"bg-red-500 hover:bg-red-600 text-white",ghost:"hover:bg-gray-100 text-gray-600"}[r]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[t]," ").concat(l),disabled:o||n,...c,children:[n&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),s]})}},2827:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var a=t(7437);function s(e){let{label:r,error:t,className:s="",...n}=e;return(0,a.jsxs)("div",{className:"space-y-1",children:[r&&(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:r}),(0,a.jsx)("input",{className:"w-full px-3 py-2 border rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent ".concat(t?"border-red-300":"border-gray-300"," ").concat(s),...n}),t&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:t})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=4781)}),_N_E=e.O()}]);